{% extends 'base.html' %}

{% block headcontent %}
    <link rel=stylesheet href="{{ url_for('static', filename='stylesheets/details.css')}}">
{% endblock %}

{% block pagecontent %}
    <!--
    <p> Details of the dataset: {{ name if name else "unnamed dataset" }} </p>
    <div id=toplevel-details>
        Some overall information (number of samples, number of attributes, types of attributes)
    </div>
    -->
    <div id=attribute-details-header>
        <span> Attribute Details: </span>
        <span id=collapse-controls>
            <button onclick=collapseAll("attribute-details")>Collapse all</button>
            <button onclick=expandAll("attribute-details")>Expand all</button>
        </span>
    </div>
    
    <div id=attribute-details>
        
        {% for att in attributes %}
            <collapsible-section>
                <span class=attribute-header slot=header>
                    <span class=attribute-name-indicator>{{att.name}}</span>
                    <span class=attribute-type-indicator>{{att.kind}}</span>
                    <span class=attribute-number-indicator>{{att.values|length}} values</span>
                </span>
                
                <distribution-figure no-figure-title attribute-name="{{att.name}}" distributions='{{dict.from_keys([(att.name,distributions[att.name])])|tojson}}' legend=right></distribution-figure>
            </collapsible-section>
        {% endfor %}
    </div>
{% endblock %}